{"version":3,"sources":["../../../../../../node_modules/.pnpm/streamdown%401.6.11_%40types%2Bmdast%404.0.4_micromark-util-types%402.0.2_micromark%404.0.2_react%4019.2.3/node_modules/streamdown/dist/code-block-IT6T5CEO.js"],"sourcesContent":["\"use client\";\nimport {a,g as g$1,b as b$1}from'./chunk-JAPRZBRM.js';import {memo,useMemo,useContext,useState,useEffect}from'react';import {jsx,jsxs}from'react/jsx-runtime';import {createHighlighter,bundledLanguages}from'shiki';import {createJavaScriptRegexEngine}from'shiki/engine/javascript';var v=a(\"block\",\"before:content-[counter(line)]\",\"before:inline-block\",\"before:[counter-increment:line]\",\"before:w-4\",\"before:mr-4\",\"before:text-[13px]\",\"before:text-right\",\"before:text-muted-foreground/50\",\"before:font-mono\",\"before:select-none\"),b=memo(({children:e,result:t,language:o,className:r,...s})=>{let n=useMemo(()=>({backgroundColor:t.bg,color:t.fg}),[t.bg,t.fg]);return jsx(\"pre\",{className:a(r,\"p-4 text-sm dark:bg-(--shiki-dark-bg)!\"),\"data-language\":o,\"data-streamdown\":\"code-block-body\",style:n,...s,children:jsx(\"code\",{className:\"[counter-increment:line_0] [counter-reset:line]\",children:t.tokens.map((l,d)=>jsx(\"span\",{className:v,children:l.map((a,i)=>jsx(\"span\",{className:\"dark:bg-(--shiki-dark-bg)! dark:text-(--shiki-dark)!\",style:{color:a.color,backgroundColor:a.bgColor,...a.htmlStyle},...a.htmlAttrs,children:a.content},i))},d))})})},(e,t)=>e.result===t.result&&e.language===t.language&&e.className===t.className);var y=({className:e,language:t,style:o,...r})=>jsx(\"div\",{className:a(\"my-4 w-full overflow-hidden rounded-xl border border-border\",e),\"data-language\":t,\"data-streamdown\":\"code-block\",style:{contentVisibility:\"auto\",containIntrinsicSize:\"auto 200px\",...o},...r});var L=({language:e,children:t})=>jsxs(\"div\",{className:\"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs\",\"data-language\":e,\"data-streamdown\":\"code-block-header\",children:[jsx(\"span\",{className:\"ml-1 font-mono lowercase\",children:e}),jsx(\"div\",{className:\"flex items-center gap-2\",children:t})]});var $=createJavaScriptRegexEngine({forgiving:true}),m=new Map,p=new Map,g=new Map,E=(e,t)=>`${e}-${t[0]}-${t[1]}`,A=(e,t,o)=>{let r=e.slice(0,100),s=e.length>100?e.slice(-100):\"\";return `${t}:${o[0]}:${o[1]}:${e.length}:${r}:${s}`},T=e=>Object.hasOwn(bundledLanguages,e),K=(e,t)=>{let o=T(e)?e:\"text\",r=E(o,t);if(m.has(r))return m.get(r);let s=createHighlighter({themes:t,langs:[o],engine:$});return m.set(r,s),s},h=(e,t,o,r)=>{let s=T(t)?t:\"text\",n=A(e,s,o);return p.has(n)?p.get(n):(r&&(g.has(n)||g.set(n,new Set),g.get(n).add(r)),K(s,o).then(l=>{let d=l.codeToTokens(e,{lang:s,themes:{light:o[0],dark:o[1]}});p.set(n,d);let a=g.get(n);if(a){for(let i of a)i(d);g.delete(n);}}).catch(l=>{console.error(\"Failed to highlight code:\",l),g.delete(n);}),null)};var le=({code:e,language:t,className:o,children:r,...s})=>{let{shikiTheme:n}=useContext(g$1),l=useMemo(()=>({bg:\"transparent\",fg:\"inherit\",tokens:e.split(`\n`).map(i=>[{content:i,color:\"inherit\",bgColor:\"transparent\",htmlStyle:{},offset:0}])}),[e]),[d,a]=useState(l);return useEffect(()=>{let i=h(e,t,n);if(i){a(i);return}h(e,t,n,x=>{a(x);});},[e,t,n]),jsx(b$1.Provider,{value:{code:e},children:jsxs(y,{language:t,children:[jsx(L,{language:t,children:r}),jsx(b,{className:o,language:t,result:d,...s})]})})};export{le as CodeBlock};"],"names":[],"mappings":"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","ignoreList":[0]}