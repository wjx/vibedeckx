module.exports=[22715,a=>{"use strict";var b=a.i(47231),c=a.i(29535),d=a.i(1540),e=a.i(41218),f=a.i(35757),g=a.i(90742),h=a.i(2697),i=a.i(67964);a.i(43066);var j=a.i(49876);function k(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}let l=function a(b){function c(a,c,d,e,f){!function(a,b,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r=[],s=b.children,t=0,u=0,v=s.length,w=b.value;t<v;){i=e-c,j=f-d;do k=s[u++].value;while(!k&&u<v)for(l=m=k,o=Math.max(m/(q=k*k*(p=Math.max(j/i,i/j)/(w*a))),q/l);u<v;++u){if(k+=h=s[u].value,h<l&&(l=h),h>m&&(m=h),(n=Math.max(m/(q=k*k*p),q/l))>o){k-=h;break}o=n}r.push(g={value:k,dice:i<j,children:s.slice(t,u)}),g.dice?function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(d-b)/a.value;++h<i;)(f=g[h]).y0=c,f.y1=e,f.x0=b,f.x1=b+=f.value*j}(g,c,d,e,w?d+=j*k/w:f):function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(e-c)/a.value;++h<i;)(f=g[h]).x0=b,f.x1=d,f.y0=c,f.y1=c+=f.value*j}(g,c,d,w?c+=i*k/w:e,f),w-=k,t=u}}(b,a,c,d,e,f)}return c.ratio=function(b){return a((b*=1)>1?b:1)},c}((1+Math.sqrt(5))/2);function m(){return 0}function n(a){return function(){return a}}function o(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;--d>=0;)b+=c[d].value;else b=1;a.value=b}function p(a,b){a instanceof Map?(a=[void 0,a],void 0===b&&(b=r)):void 0===b&&(b=q);for(var c,d,e,f,g,h=new u(a),i=[h];c=i.pop();)if((e=b(c.data))&&(g=(e=Array.from(e)).length))for(c.children=e,f=g-1;f>=0;--f)i.push(d=e[f]=new u(e[f])),d.parent=c,d.depth=c.depth+1;return h.eachBefore(t)}function q(a){return a.children}function r(a){return Array.isArray(a)?a[1]:null}function s(a){void 0!==a.data.value&&(a.value=a.data.value),a.data=a.data.data}function t(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function u(a){this.data=a,this.depth=this.height=0,this.parent=null}u.prototype=p.prototype={constructor:u,count:function(){return this.eachAfter(o)},each:function(a,b){let c=-1;for(let d of this)a.call(b,d,++c,this);return this},eachAfter:function(a,b){for(var c,d,e,f=this,g=[f],h=[],i=-1;f=g.pop();)if(h.push(f),c=f.children)for(d=0,e=c.length;d<e;++d)g.push(c[d]);for(;f=h.pop();)a.call(b,f,++i,this);return this},eachBefore:function(a,b){for(var c,d,e=this,f=[e],g=-1;e=f.pop();)if(a.call(b,e,++g,this),c=e.children)for(d=c.length-1;d>=0;--d)f.push(c[d]);return this},find:function(a,b){let c=-1;for(let d of this)if(a.call(b,d,++c,this))return d},sum:function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;--e>=0;)c+=d[e].value;b.value=c})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(a){for(var b=this,c=function(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}(b,a),d=[b];b!==c;)d.push(b=b.parent);for(var e=d.length;a!==c;)d.splice(e,0,a),a=a.parent;return d},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){return Array.from(this)},leaves:function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},links:function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b},copy:function(){return p(this).eachBefore(s)},[Symbol.iterator]:function*(){var a,b,c,d,e=this,f=[e];do for(a=f.reverse(),f=[];e=a.pop();)if(yield e,b=e.children)for(c=0,d=b.length;c<d;++c)f.push(b[c]);while(f.length)}};var v=a.i(68509),w=a.i(55784),x=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=g.setAccTitle,this.getAccTitle=g.getAccTitle,this.setDiagramTitle=g.setDiagramTitle,this.getDiagramTitle=g.getDiagramTitle,this.getAccDescription=g.getAccDescription,this.setAccDescription=g.setAccDescription}static{(0,h.__name)(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){let a=g.defaultConfig_default,b=(0,g.getConfig)();return(0,f.cleanAndMerge)({...a.treemap,...b.treemap??{}})}addNode(a,b){this.nodes.push(a),this.levels.set(a,b),0===b&&(this.outerNodes.push(a),this.root??=a)}getRoot(){return{name:"",children:this.outerNodes}}addClass(a,b){let c=this.classes.get(a)??{id:a,styles:[],textStyles:[]},e=b.replace(/\\,/g,"§§§").replace(/,/g,";").replace(/§§§/g,",").split(";");e&&e.forEach(a=>{(0,d.isLabelStyle)(a)&&(c?.textStyles?c.textStyles.push(a):c.textStyles=[a]),c?.styles?c.styles.push(a):c.styles=[a]}),this.classes.set(a,c)}getClasses(){return this.classes}getStylesForClass(a){return this.classes.get(a)?.styles??[]}clear(){(0,g.clear)(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}};function y(a){if(!a.length)return[];let b=[],c=[];return a.forEach(a=>{let d={name:a.name,children:"Leaf"===a.type?void 0:[]};for(d.classSelector=a?.classSelector,a?.cssCompiledStyles&&(d.cssCompiledStyles=[a.cssCompiledStyles]),"Leaf"===a.type&&void 0!==a.value&&(d.value=a.value);c.length>0&&c[c.length-1].level>=a.level;)c.pop();if(0===c.length)b.push(d);else{let a=c[c.length-1].node;a.children?a.children.push(d):a.children=[d]}"Leaf"!==a.type&&c.push({node:d,level:a.level})}),b}(0,h.__name)(y,"buildHierarchy");var z=(0,h.__name)((a,b)=>{(0,e.populateCommonDb)(a,b);let c=[];for(let c of a.TreemapRows??[])"ClassDefStatement"===c.$type&&b.addClass(c.className??"",c.styleText??"");for(let d of a.TreemapRows??[]){let a=d.item;if(!a)continue;let e=d.indent?parseInt(d.indent):0,f=A(a),g=a.classSelector?b.getStylesForClass(a.classSelector):[],h=g.length>0?g.join(";"):void 0,i={level:e,name:f,type:a.$type,value:a.value,classSelector:a.classSelector,cssCompiledStyles:h};c.push(i)}let d=y(c),f=(0,h.__name)((a,c)=>{for(let d of a)b.addNode(d,c),d.children&&d.children.length>0&&f(d.children,c+1)},"addNodesRecursively");f(d,0)},"populate"),A=(0,h.__name)(a=>a.name?String(a.name):"","getItemName"),B={parser:{yy:void 0},parse:(0,h.__name)(async a=>{try{let b=i.parse,c=await b("treemap",a);h.log.debug("Treemap AST:",c);let d=B.parser?.yy;if(!(d instanceof x))throw Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");z(c,d)}catch(a){throw h.log.error("Error parsing treemap:",a),a}},"parse")},C=(0,h.__name)((a,e,f,i)=>{let o,q=i.db,r=q.getConfig(),s=r.padding??10,t=q.getDiagramTitle(),u=q.getRoot(),{themeVariables:x}=(0,g.getConfig)();if(!u)return;let y=30*!!t,z=(0,b.selectSvgElement)(e),A=r.nodeWidth?10*r.nodeWidth:960,B=r.nodeHeight?10*r.nodeHeight:500,C=B+y;z.attr("viewBox",`0 0 ${A} ${C}`),(0,g.configureSvgSize)(z,C,A,r.useMaxWidth);try{let a=r.valueFormat||",";if("$0,0"===a)o=(0,h.__name)(a=>"$"+(0,v.format)(",")(a),"valueFormat");else if(a.startsWith("$")&&a.includes(",")){let b=/\.\d+/.exec(a),c=b?b[0]:"";o=(0,h.__name)(a=>"$"+(0,v.format)(","+c)(a),"valueFormat")}else if(a.startsWith("$")){let b=a.substring(1);o=(0,h.__name)(a=>"$"+(0,v.format)(b||"")(a),"valueFormat")}else o=(0,v.format)(a)}catch(a){h.log.error("Error creating format function:",a),o=(0,v.format)(",")}let D=(0,j.scaleOrdinal)().range(["transparent",x.cScale0,x.cScale1,x.cScale2,x.cScale3,x.cScale4,x.cScale5,x.cScale6,x.cScale7,x.cScale8,x.cScale9,x.cScale10,x.cScale11]),E=(0,j.scaleOrdinal)().range(["transparent",x.cScalePeer0,x.cScalePeer1,x.cScalePeer2,x.cScalePeer3,x.cScalePeer4,x.cScalePeer5,x.cScalePeer6,x.cScalePeer7,x.cScalePeer8,x.cScalePeer9,x.cScalePeer10,x.cScalePeer11]),F=(0,j.scaleOrdinal)().range([x.cScaleLabel0,x.cScaleLabel1,x.cScaleLabel2,x.cScaleLabel3,x.cScaleLabel4,x.cScaleLabel5,x.cScaleLabel6,x.cScaleLabel7,x.cScaleLabel8,x.cScaleLabel9,x.cScaleLabel10,x.cScaleLabel11]);t&&z.append("text").attr("x",A/2).attr("y",y/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(t);let G=z.append("g").attr("transform",`translate(0, ${y})`).attr("class","treemapContainer"),H=p(u).sum(a=>a.value??0).sort((a,b)=>(b.value??0)-(a.value??0)),I=(function(){var a=l,b=!1,c=1,d=1,e=[0],f=m,g=m,h=m,i=m,j=m;function o(a){return a.x0=a.y0=0,a.x1=c,a.y1=d,a.eachBefore(p),e=[0],b&&a.eachBefore(k),a}function p(b){var c=e[b.depth],d=b.x0+c,k=b.y0+c,l=b.x1-c,m=b.y1-c;l<d&&(d=l=(d+l)/2),m<k&&(k=m=(k+m)/2),b.x0=d,b.y0=k,b.x1=l,b.y1=m,b.children&&(c=e[b.depth+1]=f(b)/2,d+=j(b)-c,k+=g(b)-c,l-=h(b)-c,m-=i(b)-c,l<d&&(d=l=(d+l)/2),m<k&&(k=m=(k+m)/2),a(b,d,k,l,m))}return o.round=function(a){return arguments.length?(b=!!a,o):b},o.size=function(a){return arguments.length?(c=+a[0],d=+a[1],o):[c,d]},o.tile=function(b){return arguments.length?(a=function(a){if("function"!=typeof a)throw Error();return a}(b),o):a},o.padding=function(a){return arguments.length?o.paddingInner(a).paddingOuter(a):o.paddingInner()},o.paddingInner=function(a){return arguments.length?(f="function"==typeof a?a:n(+a),o):f},o.paddingOuter=function(a){return arguments.length?o.paddingTop(a).paddingRight(a).paddingBottom(a).paddingLeft(a):o.paddingTop()},o.paddingTop=function(a){return arguments.length?(g="function"==typeof a?a:n(+a),o):g},o.paddingRight=function(a){return arguments.length?(h="function"==typeof a?a:n(+a),o):h},o.paddingBottom=function(a){return arguments.length?(i="function"==typeof a?a:n(+a),o):i},o.paddingLeft=function(a){return arguments.length?(j="function"==typeof a?a:n(+a),o):j},o})().size([A,B]).paddingTop(a=>a.children&&a.children.length>0?35:0).paddingInner(s).paddingLeft(a=>a.children&&a.children.length>0?10:0).paddingRight(a=>a.children&&a.children.length>0?10:0).paddingBottom(a=>a.children&&a.children.length>0?10:0).round(!0)(H),J=I.descendants().filter(a=>a.children&&a.children.length>0),K=G.selectAll(".treemapSection").data(J).enter().append("g").attr("class","treemapSection").attr("transform",a=>`translate(${a.x0},${a.y0})`);K.append("rect").attr("width",a=>a.x1-a.x0).attr("height",25).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",a=>0===a.depth?"display: none;":""),K.append("clipPath").attr("id",(a,b)=>`clip-section-${e}-${b}`).append("rect").attr("width",a=>Math.max(0,a.x1-a.x0-12)).attr("height",25),K.append("rect").attr("width",a=>a.x1-a.x0).attr("height",a=>a.y1-a.y0).attr("class",(a,b)=>`treemapSection section${b}`).attr("fill",a=>D(a.data.name)).attr("fill-opacity",.6).attr("stroke",a=>E(a.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",a=>{if(0===a.depth)return"display: none;";let b=(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles});return b.nodeStyles+";"+b.borderStyles.join(";")}),K.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",12.5).attr("dominant-baseline","middle").text(a=>0===a.depth?"":a.data.name).attr("font-weight","bold").attr("style",a=>0===a.depth?"display: none;":"dominant-baseline: middle; font-size: 12px; fill:"+F(a.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).each(function(a){if(0===a.depth)return;let b=(0,w.select)(this),c=a.data.name;b.text(c);let d=a.x1-a.x0,e=Math.max(15,!1!==r.showValues&&a.value?d-10-30-10-6:d-6-6),f=b.node();if(f.getComputedTextLength()>e){let a=c;for(;a.length>0;){if(0===(a=c.substring(0,a.length-1)).length){b.text("..."),f.getComputedTextLength()>e&&b.text("");break}if(b.text(a+"..."),f.getComputedTextLength()<=e)break}}}),!1!==r.showValues&&K.append("text").attr("class","treemapSectionValue").attr("x",a=>a.x1-a.x0-10).attr("y",12.5).attr("text-anchor","end").attr("dominant-baseline","middle").text(a=>a.value?o(a.value):"").attr("font-style","italic").attr("style",a=>0===a.depth?"display: none;":"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+F(a.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles}).labelStyles.replace("color:","fill:"));let L=I.leaves(),M=G.selectAll(".treemapLeafGroup").data(L).enter().append("g").attr("class",(a,b)=>`treemapNode treemapLeafGroup leaf${b}${a.data.classSelector?` ${a.data.classSelector}`:""}x`).attr("transform",a=>`translate(${a.x0},${a.y0})`);M.append("rect").attr("width",a=>a.x1-a.x0).attr("height",a=>a.y1-a.y0).attr("class","treemapLeaf").attr("fill",a=>a.parent?D(a.parent.data.name):D(a.data.name)).attr("style",a=>(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",a=>a.parent?D(a.parent.data.name):D(a.data.name)).attr("stroke-width",3),M.append("clipPath").attr("id",(a,b)=>`clip-${e}-${b}`).append("rect").attr("width",a=>Math.max(0,a.x1-a.x0-4)).attr("height",a=>Math.max(0,a.y1-a.y0-4)),M.append("text").attr("class","treemapLabel").attr("x",a=>(a.x1-a.x0)/2).attr("y",a=>(a.y1-a.y0)/2).attr("style",a=>"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+F(a.data.name)+";"+(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(a,b)=>`url(#clip-${e}-${b})`).text(a=>a.data.name).each(function(a){let b=(0,w.select)(this),c=a.x1-a.x0,d=a.y1-a.y0,e=b.node(),f=c-8,g=d-8;if(f<10||g<10)return void b.style("display","none");let h=parseInt(b.style("font-size"),10);for(;e.getComputedTextLength()>f&&h>8;)h--,b.style("font-size",`${h}px`);let i=Math.max(6,Math.min(28,Math.round(.6*h))),j=h+2+i;for(;j>g&&h>8&&(!((i=Math.max(6,Math.min(28,Math.round(.6*--h))))<6)||8!==h);)b.style("font-size",`${h}px`),j=h+2+i;b.style("font-size",`${h}px`),(e.getComputedTextLength()>f||h<8||g<h)&&b.style("display","none")}),!1!==r.showValues&&M.append("text").attr("class","treemapValue").attr("x",a=>(a.x1-a.x0)/2).attr("y",function(a){return(a.y1-a.y0)/2}).attr("style",a=>"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+F(a.data.name)+";"+(0,d.styles2String)({cssCompiledStyles:a.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(a,b)=>`url(#clip-${e}-${b})`).text(a=>a.value?o(a.value):"").each(function(a){let b=(0,w.select)(this),c=this.parentNode;if(!c)return void b.style("display","none");let d=(0,w.select)(c).select(".treemapLabel");if(d.empty()||"none"===d.style("display"))return void b.style("display","none");let e=parseFloat(d.style("font-size")),f=Math.max(6,Math.min(28,Math.round(.6*e)));b.style("font-size",`${f}px`);let g=(a.y1-a.y0)/2+e/2+2;b.attr("y",g);let h=a.x1-a.x0,i=a.y1-a.y0;b.node().getComputedTextLength()>h-8||g+f>i-4||f<6?b.style("display","none"):b.style("display",null)});let N=r.diagramPadding??8;(0,c.setupViewPortForSVG)(z,N,"flowchart",r?.useMaxWidth||!1)},"draw"),D=(0,h.__name)(function(a,b){return b.db.getClasses()},"getClasses"),E={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},F={parser:B,get db(){return new x},renderer:{draw:C,getClasses:D},styles:(0,h.__name)(({treemap:a}={})=>{let b=(0,f.cleanAndMerge)(E,a);return`
  .treemapNode.section {
    stroke: ${b.sectionStrokeColor};
    stroke-width: ${b.sectionStrokeWidth};
    fill: ${b.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${b.leafStrokeColor};
    stroke-width: ${b.leafStrokeWidth};
    fill: ${b.leafFillColor};
  }
  .treemapLabel {
    fill: ${b.labelColor};
    font-size: ${b.labelFontSize};
  }
  .treemapValue {
    fill: ${b.valueColor};
    font-size: ${b.valueFontSize};
  }
  .treemapTitle {
    fill: ${b.titleColor};
    font-size: ${b.titleFontSize};
  }
  `},"getStyles")};a.s(["diagram",()=>F],22715)}];

//# sourceMappingURL=2d2f0_mermaid_dist_chunks_mermaid_core_diagram-PSM6KHXK_mjs_67034ee5._.js.map